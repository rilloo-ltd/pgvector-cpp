#ifdef __cplusplus\nextern "C" {\n#endif\n\n#ifndef VECTOR_H\n#define VECTOR_H\n\n#define VECTOR_MAX_DIM 16000\n\n#define VECTOR_SIZE(_dim)\t\t(offsetof(Vector, x) + sizeof(float)*(_dim))\n#define DatumGetVector(x)\t\t((Vector *) PG_DETOAST_DATUM(x))\n#define PG_GETARG_VECTOR_P(x)\tDatumGetVector(PG_GETARG_DATUM(x))\n#define PG_RETURN_VECTOR_P(x)\tPG_RETURN_POINTER(x)\n\nstruct Vector\n{\n\tint32\t\tvl_len_;\t\t/* varlena header (do not touch directly!) */\n\tint16\t\tdim;\t\t\t/* number of dimensions */\n\tint16\t\tunused;\t\t\t/* reserved for future use, always zero */\n\tfloat\t\tx[FLEXIBLE_ARRAY_MEMBER];\n\n#ifdef __cplusplus\n\tstatic Vector *Init(int dim);\n\tvoid\t\tPrint(char *msg);\n\tint\t\t\tCmp(Vector * b);\n#endif\n};\n\n#ifndef __cplusplus\nVector\t   *InitVector(int dim);\nvoid\t\tPrintVector(char *msg, Vector * vector);\nint\t\t\tvector_cmp_internal(Vector * a, Vector * b);\n#endif\n\n/* TODO Move to better place */\n#if PG_VERSION_NUM >= 160000\n#define FUNCTION_PREFIX\n#else\n#define FUNCTION_PREFIX PGDLLEXPORT\n#endif\n\n#endif\n\n#ifdef __cplusplus\n}\n#endif
